<!DOCTYPE html> 
<html lang="en"> 
<head> 
  <meta charset="UTF-8"> 
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
  <title>Create Coupon</title> 
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" 
rel="stylesheet"> 
  <script src="https://cdn.tailwindcss.com"></script> 
  <style> 
    .error { 
      color: #ff4d4d; 
      font-size: 0.875rem; 
      margin-top: 4px; 
      display: block; 
    } 
  </style> 
</head> 
<body class="bg-gray-200">
      <div class="max-w-xl mx-auto mt-10 bg-black p-6 rounded-lg shadow-lg text-white"> 
    <h2 class="text-2xl font-bold mb-4 text-center">Create Coupon</h2> 
    <p class="text-center mb-6 text-gray-300">Form to enter Coupon information</p> 
 
    <form id="couponForm" onsubmit="return validateForm()"> 
      <div class="mb-3"> 
        <input type="text" id="couponCode" class="form-control bg-gray-200 text-black" placeholder="Coupon Code"> 
        <span id="codeError" class="error"></span> 
      </div> 
 
      <div class="mb-3"> 
        <textarea id="description" class="form-control bg-gray-200 text-black" rows="2" placeholder="Description"></textarea> 
        <span id="descError" class="error"></span> 
      </div> 
 
      <div class="mb-3"> 
        <select id="discountType" class="form-select bg-gray-200 text-black"> 
          <option value="" disabled selected>Select Discount Type</option> 
          <option value="flat">Flat</option> 
          <option value="percentage">Percentage</option> 
        </select> 
        <span id="typeError" class="error"></span> 
      </div> 
 
      <div class="mb-3"> 
        <input type="number" id="discountValue" class="form-control bg-gray-200 text-black" placeholder="Discount Value (e.g., 50 or 20%)"> 
        <span id="valueError" class="error"></span> 
      </div> 
 
      <div class="mb-3"> 
        <label class="block mb-1 font-semibold">Start Date</label> 
        <input type="date" id="startDate" class="form-control bg-gray-200 text-black"> 
        <span id="startError" class="error"></span> 
      </div> 
 
      <div class="mb-3"> 
        <label class="block mb-1 font-semibold">End Date</label> 
        <input type="date" id="endDate" class="form-control bg-gray-200 text-black"> 
        <span id="endError" class="error"></span>
              </div> 
 
      <button type="submit" class="btn btn-warning w-full text-black font-semibold">Create Coupon</button> 
 
      <button type="button" onclick="window.history.back()" class="btn btn-secondary w-full mt-2">‚Üê Back</button> 
    </form> 
  </div> 
 
  <script> 
    function validateForm() { 
      document.querySelectorAll(".error").forEach(e => e.textContent = ""); 
 
      let isValid = true; 
 
      const code = document.getElementById("couponCode").value.trim(); 
      const desc = document.getElementById("description").value.trim(); 
      const type = document.getElementById("discountType").value; 
      const value = document.getElementById("discountValue").value.trim(); 
      const start = document.getElementById("startDate").value; 
      const end = document.getElementById("endDate").value; 
 
      if (code === "") { 
        document.getElementById("codeError").textContent = "Coupon code is required."; 
        isValid = false; 
      } else if (!/^[A-Za-z0-9_-]+$/.test(code)) { 
        document.getElementById("codeError").textContent = "Only letters, numbers, '-' and '_' allowed."; 
        isValid = false; 
      } 
 
      if (desc === "") { 
        document.getElementById("descError").textContent = "Description is required."; 
        isValid = false; 
      } 
 
      if (type === "" || type === null) { 
        document.getElementById("typeError").textContent = "Please select a discount type."; 
        isValid = false; 
      } 
            if (value === "") { 
        document.getElementById("valueError").textContent = "Discount value is required."; 
        isValid = false; 
      } else if (value <= 0) { 
        document.getElementById("valueError").textContent = "Discount value must be greater than 0."; 
        isValid = false; 
      } else if (type === "percentage" && (value > 100)) { 
        document.getElementById("valueError").textContent = "Percentage cannot exceed 100%."; 
        isValid = false; 
      } 
 
      if (start === "") { 
        document.getElementById("startError").textContent = "Start date is required."; 
        isValid = false; 
      } 
      if (end === "") { 
        document.getElementById("endError").textContent = "End date is required."; 
        isValid = false; 
      } 
 
      if (start && end && new Date(start) > new Date(end)) { 
        document.getElementById("endError").textContent = "End date must be after start date."; 
        isValid = false; 
      } 
 
      if (!isValid) return false; 
 
      alert("Coupon created successfully!"); 
      return true; 
    } 
  </script> 
 
</body> 
</html>